# EEE Roadmap — Concept Library: instrumentation
# Auto-generated by scripts/migrate-to-library.mjs — review and edit as needed.
# See CONTRIBUTING.md for the concept file format.
_meta:
  domain: instrumentation
  description: Measurement, sensors, and test equipment
concepts:
  breadboard-layout:
    name: Breadboard layout
    notes: |
      Understanding breadboard internal connections is essential for building circuits correctly.

      ![Breadboard internal connections](https://commons.wikimedia.org/wiki/Special:FilePath/Breadboard_scheme.svg)

      **Standard Breadboard Structure**
      ```
      Power rails (horizontal)
      + + + + + + + + + + + + + + +
      − − − − − − − − − − − − − − −

      Terminal strips (vertical groups of 5)
      a b c d e │ gap │ f g h i j
      · · · · · │     │ · · · · ·
      · · · · · │     │ · · · · ·
      (rows 1-30 or more)

      − − − − − − − − − − − − − − −
      + + + + + + + + + + + + + + +
      Power rails (horizontal)
      ```

      **Connection Rules**

      - **Power rails**: All holes in a row connected horizontally (entire length)
      - **Terminal strips**: 5 holes connected vertically (a-b-c-d-e or f-g-h-i-j)
      - **Center gap**: Separates left and right sides — no connection across

      **The Center Gap Purpose**

      - Width matches DIP IC packages
      - IC straddles gap — each pin on separate vertical strip
      - Prevents pins from shorting together

      **Power Rail Breaks**

      Some breadboards have breaks in power rails halfway:
      - Check continuity before assuming full-length connection
      - Add jumper wire to connect both halves if needed

      **Row Numbering**

      - Rows typically numbered 1, 2, 3... (check your board)
      - Helps communicate circuit layout
      - "Row 15, columns a-e" = one 5-hole strip
  common-problems:
    name: Common problems
    notes: |
      Most breadboard failures come from a few common issues.

      **Connection Problems**

      *Loose connections:*
      - Breadboard contacts wear out over time
      - Thin wires or oxidized leads don't grip
      - Solution: Use fresh breadboard area, clean leads

      *Intermittent contacts:*
      - Wire moves slightly, circuit fails
      - Common with heavy components
      - Solution: Support heavy parts, minimize wire movement

      *Oxidized contacts:*
      - Old breadboards develop resistance
      - Solution: Clean holes with contact cleaner, or replace board

      **Component Issues**

      *Wrong component:*
      - Resistor colors misread
      - Capacitor values hard to read
      - Solution: Verify with multimeter before installing

      *Damaged components:*
      - LEDs inserted backward and burned
      - ICs inserted backward
      - Solution: Check polarity/orientation before power

      *Component leads too short:*
      - Cut leads don't reach or grip well
      - Solution: Leave 5-10mm lead length

      **Electrical Issues**

      *Ground loops:*
      - Multiple ground paths cause noise
      - Solution: Star grounding from single point

      *Crosstalk:*
      - Signals couple between adjacent wires
      - Solution: Separate sensitive signals, use shorter wires

      *High-frequency limitations:*
      - Breadboard has ~2 pF between adjacent strips
      - Limits bandwidth to <10-20 MHz typically
      - Solution: Use PCB for high-frequency circuits

      *Power supply noise:*
      - Long wires to power rails act as antennas
      - Solution: Add 0.1 μF bypass capacitor at each IC power pin
  current-measurement:
    name: Current measurement
    notes: |
      Measuring current requires breaking the circuit — meter goes **in series**.

      **Procedure**

      1. **Turn off power** to the circuit
      2. Set meter to appropriate current range (A, mA, or μA)
      3. Move red lead to current jack (often separate from voltage jack!)
      4. Break the circuit at measurement point
      5. Insert meter **in series** — current flows through the meter
      6. Turn on power and read value
      7. Restore circuit when done

      **DC vs AC Current**

      - DC (A⎓): For batteries, DC power supplies
      - AC (A~): For mains-powered circuits (shows RMS)

      **Current Ranges**

      | Range | Typical Jack | Fuse |
      |-------|--------------|------|
      | μA | mA/μA | Small fuse |
      | mA | mA/μA | Small fuse (200–500 mA) |
      | A | 10A or 20A | Large fuse (10–20A) |

      **Critical Safety Notes**

      - **Never connect in parallel** — creates short circuit, blows fuse (or worse)
      - Always start with highest range, then decrease
      - 10A jack often **unfused** — be careful!
      - Check fuse if meter shows 0 when current should flow

      **The Fuse Problem**

      Most common multimeter issue: blown current fuse from accidental parallel connection or over-range measurement. Keep spare fuses!

      **Alternative: Clamp Meter**

      - Measures current without breaking circuit
      - Clamps around wire, senses magnetic field
      - Works for AC; DC clamp meters available but pricier
      - Great for high currents and installed wiring
  desoldering:
    name: Desoldering
    notes: |
      Mistakes happen — knowing how to remove solder cleanly is essential.

      **Solder Wick (Desoldering Braid)**

      Best for: Flat surfaces, SMD, cleaning pads

      *Technique:*
      1. Place wick on joint
      2. Press hot iron on top of wick
      3. Wick absorbs molten solder via capillary action
      4. Remove wick and iron together
      5. Use fresh section for next joint

      *Tips:*
      - Add flux to wick for better absorption
      - Don't drag hot wick across board (damages traces)
      - Different widths for different jobs

      **Solder Sucker (Desoldering Pump)**

      Best for: Through-hole components, lots of solder

      *Technique:*
      1. Melt solder with iron
      2. Position sucker tip near molten solder
      3. Press release button — sucks up solder
      4. Repeat if necessary
      5. May need wick to clean remaining solder

      **Hot Air (for SMD)**

      Best for: Multi-pin SMD, removing ICs

      *Technique:*
      1. Apply flux to all joints
      2. Heat evenly with hot air gun
      3. Lift component when all joints are molten
      4. Clean pads with wick

      **Component Removal Tips**

      *Through-hole:*
      - Heat joint, pull component gently
      - Don't force — damages board
      - Cut leads if component is sacrificial

      *SMD passives:*
      - Heat both ends simultaneously (two irons or hot air)
      - Tweezers to lift while molten

      *SMD ICs:*
      - Flood pins with solder (creates thermal bridge)
      - Drag iron across pins while lifting
      - Or use hot air

      **Don't**

      - Overheat the board (damages traces, lifts pads)
      - Pry on components (damages pads)
      - Reuse solder (contaminated)
      - Use excessive force
  diode-and-continuity:
    name: Diode and continuity
    notes: |
      Special modes for testing semiconductors and checking connections.

      **Diode Test Mode**

      Meter applies small current and measures forward voltage drop.

      **Testing a Diode**

      1. Set meter to diode mode (⏄ symbol)
      2. Red lead to anode, black to cathode
      3. Read forward voltage:
         - Silicon: 0.5–0.7V ✓
         - Schottky: 0.15–0.4V ✓
         - LED: 1.5–3.5V (depends on color) ✓
      4. Reverse leads — should read OL (open)

      **Interpreting Results**

      | Forward | Reverse | Diagnosis |
      |---------|---------|-----------|
      | 0.5–0.7V | OL | Good silicon diode |
      | 0.15–0.4V | OL | Good Schottky diode |
      | 0V or very low | 0V or very low | Shorted diode |
      | OL | OL | Open diode |
      | Same both ways | Same both ways | Not a diode (resistor?) |

      **Testing LEDs**

      - LED may light dimly during test (enough current)
      - Higher voltage reading than standard diodes
      - Great way to identify LED polarity

      **Testing Transistors (BJT)**

      - Treat as two back-to-back diodes
      - NPN: Base-Emitter and Base-Collector both show ~0.6V with red on base
      - PNP: Same but with black on base
      - Check E-C both ways — should be open

      **Continuity Mode**

      - Beeps when low resistance detected
      - Threshold typically 20–50Ω
      - Response faster than resistance mode
      - Perfect for tracing wires and checking solder joints

      **Pro Tips**

      - Continuity beep should be instant — delayed beep suggests high resistance or capacitance
      - Test your probes first (touch tips together)
      - In-circuit tests can give false results due to parallel paths
  flux:
    name: Flux
    notes: |
      Flux removes oxides and enables solder to flow — the secret to good joints.

      **What Flux Does**

      - Chemically cleans metal surfaces
      - Removes oxides as they form during heating
      - Reduces surface tension of molten solder
      - Allows solder to wet and flow properly

      **Flux Types**

      | Type | Activity | Residue | Clean? | Use Case |
      |------|----------|---------|--------|----------|
      | **Rosin (R)** | Mild | Non-corrosive | Optional | General electronics |
      | **Rosin Mildly Activated (RMA)** | Medium | Non-corrosive | Optional | Most PCB work |
      | **Rosin Activated (RA)** | Strong | Slightly corrosive | Yes | Oxidized surfaces |
      | **No-Clean** | Mild | Minimal, safe | No | Production, most hobby |
      | **Water-Soluble** | Strong | Corrosive | **Required** | Industrial |

      **Flux Forms**

      - **In solder wire**: Flux core (most common for hand soldering)
      - **Paste/gel**: Apply to joints before soldering
      - **Liquid pen**: Touch-up, SMD rework
      - **Tacky flux**: SMD paste stenciling

      **When to Add Extra Flux**

      - Rework/desoldering (old flux burned off)
      - Lead-free solder (needs more help flowing)
      - Oxidized or tarnished surfaces
      - Drag soldering SMD ICs
      - Any time solder isn't flowing well

      **Cleaning Flux Residue**

      - No-clean: Leave it (designed to be safe)
      - Rosin: IPA (isopropyl alcohol) + brush
      - Water-soluble: Warm water, then dry thoroughly

      **Pro tip**: If solder balls up instead of flowing, add flux. If still not working, surface is too oxidized or contaminated.
  iron-tips:
    name: Iron tips
    notes: |
      The right tip makes soldering easier — match tip shape to the job.

      **Tip Types**

      | Shape | Best For |
      |-------|----------|
      | **Conical** | Fine work, small joints, SMD |
      | **Chisel** | General purpose, through-hole (most versatile) |
      | **Bevel** | Drag soldering SMD, larger joints |
      | **Knife** | Drag soldering, tight spaces |
      | **Hoof** | Drag soldering QFP/SOIC |

      **Tip Sizes**

      - Fine tips (0.5–1mm): SMD, small pitch ICs
      - Medium tips (1.5–2.5mm): General through-hole
      - Large tips (3–5mm): Heavy wires, large pads, ground planes

      **Temperature Settings**

      | Solder Type | Temperature Range |
      |-------------|-------------------|
      | Leaded (Sn63/Pb37) | 300–350°C (570–660°F) |
      | Lead-free (SAC305) | 350–400°C (660–750°F) |

      Start lower, increase if solder doesn't flow quickly.

      **Tip Maintenance**

      1. **Keep tinned**: Always have thin solder coating on tip
      2. **Clean frequently**: Use brass wool (preferred) or wet sponge
      3. **Don't file or sand**: Destroys plating
      4. **Re-tin before storage**: Prevents oxidation
      5. **Use tip tinner/activator**: Restores oxidized tips

      **Tip Death Signs**

      - Black, crusty appearance
      - Solder won't wet the tip
      - Heat transfer is poor

      Prevention: Don't leave iron on at high temp when not in use. Turn down or off during breaks.
  measurements:
    name: Measurements
    notes: |
      Modern scopes automate measurements, but understanding the underlying principles is essential.

      **Automatic Measurements**

      Most digital scopes calculate:

      | Measurement | Meaning |
      |-------------|---------|
      | **Frequency** | 1/Period |
      | **Period** | Time for one cycle |
      | **Vpp** | Peak-to-peak voltage |
      | **Vmax/Vmin** | Absolute max/min |
      | **Vamp** | Amplitude (top − bottom) |
      | **Vmean** | DC average |
      | **Vrms** | RMS value |
      | **Rise time** | 10% to 90% transition |
      | **Fall time** | 90% to 10% transition |
      | **Duty cycle** | High time / Period |
      | **Phase** | Timing between channels |

      **Manual Measurements with Cursors**

      Two types:
      - **Time cursors**: Vertical lines, measure Δt and frequency
      - **Voltage cursors**: Horizontal lines, measure ΔV

      **Measuring Rise Time**

      $$t_r = t_{90\%} - t_{10\%}$$

      Related to bandwidth: $BW \approx 0.35/t_r$

      **Measuring Phase**

      Between two sinusoids:
      $$\phi = \frac{\Delta t}{T} \times 360°$$

      where Δt is time difference between same points on each wave.

      **RMS Measurement**

      For accurate RMS of non-sinusoidal signals:
      - Use scope's RMS function (calculates from samples)
      - Set to at least several complete cycles
      - DC coupling to include DC component if needed

      **Measurement Accuracy**

      Rule of thumb for amplitude:
      - Use at least 3–4 divisions of waveform height
      - Keep signal on screen (avoid clipping)

      Rule of thumb for timing:
      - Scope bandwidth should be 5× signal frequency
      - Probe bandwidth must exceed scope bandwidth
  probes:
    name: Probes
    notes: |
      Probes are the interface between circuit and scope — their characteristics affect measurement accuracy.

      **1× vs 10× Probes**

      | Feature | 1× Probe | 10× Probe |
      |---------|----------|-----------|
      | Attenuation | None | ÷10 |
      | Bandwidth | Lower (~20 MHz) | Higher (~200+ MHz) |
      | Input capacitance | ~100 pF | ~10–15 pF |
      | Input impedance | 1 MΩ | 10 MΩ |
      | Best for | Low frequency, small signals | General purpose |

      **Why 10× Is Usually Better**

      - Lower capacitive loading (less circuit disturbance)
      - Higher bandwidth (faster edges)
      - Trade-off: 10× less sensitive

      **Probe Loading Effect**

      Every probe adds capacitance and resistance to circuit:
      - Can change high-impedance circuits
      - Can slow fast edges
      - Can cause oscillations

      Rule of thumb: If circuit impedance >10 kΩ and frequency >1 MHz, be cautious.

      **Proper Grounding**

      - Use **shortest possible ground lead**
      - Long ground leads act as inductors
      - Creates ringing on fast edges
      - For high-speed signals, use probe tip adapter with ground ring

      **Active Probes**

      - Built-in amplifier at probe tip
      - Very low capacitance (<1 pF)
      - Much higher bandwidth (GHz)
      - Expensive, fragile
      - Required for high-speed digital

      **Current Probes**

      - Clamp around wire
      - Measures current via magnetic field
      - Outputs proportional voltage to scope
      - Available for AC only or AC+DC

      **Differential Probes**

      - Measures voltage between two non-ground points
      - Required for floating measurements
      - Essential for power electronics (half-bridge, motor drives)
  prototyping-workflow:
    name: Prototyping workflow
    notes: |
      A systematic approach reduces frustration and catches errors early.

      **Before Building**

      1. **Draw schematic** — even for simple circuits
      2. **Identify all components** and verify values
      3. **Plan layout** — where each component goes
      4. **Check component datasheets** — pinouts, polarity, ratings

      **Building the Circuit**

      1. **Start with power rails** — connect supply wires
      2. **Add ICs first** — establishes structure
      3. **Connect power to ICs** — Vcc and GND pins
      4. **Add bypass capacitors** — 0.1 μF at each IC
      5. **Build from input to output** — follow signal flow
      6. **Double-check as you go** — easier than debugging complete circuit

      **Testing Strategy**

      1. **Visual inspection** before applying power
      2. **Check power supply** voltage with no circuit connected
      3. **Apply power** and check for:
         - Smoke or heat (immediate power off!)
         - Expected LED behavior
         - Correct voltage at IC power pins
      4. **Test stage by stage** — inject test signal, verify output
      5. **Compare to expected behavior** from simulation or theory

      **Debugging Checklist**

      When circuit doesn't work:

      - [ ] Power supply correct voltage?
      - [ ] All ICs receiving power?
      - [ ] All grounds connected?
      - [ ] Correct component values?
      - [ ] Correct component polarity?
      - [ ] All connections where expected?
      - [ ] Any accidental shorts?
      - [ ] Components damaged during handling?

      **Documentation**

      - Photograph working circuits
      - Note any changes from original schematic
      - Record test results and observations
      - Makes future rebuilds and troubleshooting easier

      **When to Move to PCB**

      Breadboard is great for:
      - Learning and experimentation
      - One-off projects
      - Circuits <10 MHz

      Move to PCB when:
      - High frequency operation needed
      - Permanent installation required
      - Reliability is critical
      - Multiple copies needed
  resistance-measurement:
    name: Resistance measurement
    notes: |
      Resistance measurement uses internal voltage source — **circuit must be unpowered**.

      **Procedure**

      1. **Disconnect power** from circuit (critical!)
      2. **Isolate component** if possible (discharge capacitors first)
      3. Set meter to resistance (Ω) range
      4. Touch probes to component leads
      5. Read value

      **Why Power Must Be Off**

      - Meter applies small test voltage (~0.5V)
      - External voltage gives false readings
      - Can damage meter

      **Reading Interpretation**

      | Display | Meaning |
      |---------|---------|
      | Number (e.g., 4.7k) | Measured resistance |
      | OL or ∞ | Open circuit (infinite resistance) |
      | 0.00 | Short circuit or very low resistance |

      **In-Circuit Measurement Challenges**

      - Parallel paths give lower readings than actual component value
      - Semiconductors conduct in one direction — readings vary with polarity
      - Best practice: Lift one lead of component being measured

      **Continuity Mode**

      - Beeps when resistance is low (typically <50Ω)
      - Fast way to check:
        - Fuses (should beep)
        - Wire connections (should beep)
        - Shorts between traces (should NOT beep)

      **Common Reference Values**

      | Item | Expected Resistance |
      |------|---------------------|
      | Short wire | <1 Ω |
      | Good fuse | <1 Ω |
      | Blown fuse | OL (open) |
      | Human body | 1 kΩ – 100 kΩ |
      | Open switch | OL |
      | Closed switch | <1 Ω |
  smd-basics:
    name: SMD basics
    notes: |
      Surface-mount soldering opens up modern components — it's easier than it looks.

      **SMD vs Through-Hole**

      | Aspect | SMD | Through-Hole |
      |--------|-----|--------------|
      | Size | Smaller | Larger |
      | Assembly | One side | Insert through holes |
      | Hand soldering | Different technique | Traditional |
      | Rework | Easier in some ways | Individual pins accessible |

      **Common SMD Packages**

      ![SMD package sizes](https://commons.wikimedia.org/wiki/Special:FilePath/SMT_sizes,_based_on_original_by_Zureks.svg)

      *Passives (resistors, capacitors):*
      - 0201: Tiny (needs microscope)
      - 0402: Very small (challenging)
      - 0603: Small but hand-solderable
      - 0805: Easy hand soldering
      - 1206: Largest common size

      *ICs:*
      - SOT-23: Small transistors (3–6 pins)
      - SOIC: Larger pitch, easy (1.27mm pitch)
      - TSSOP: Tighter pitch (0.65mm)
      - QFP: Four-sided, various pitches
      - QFN/DFN: No leads, pads underneath
      - BGA: Ball grid array (requires reflow)

      **Hand Soldering SMD Technique**

      *Two-terminal components (0805, 0603):*
      1. Tin one pad with small amount of solder
      2. Hold component with tweezers
      3. Reflow tinned pad while positioning component
      4. Release — component is tacked
      5. Solder other end normally
      6. Touch up first joint if needed

      *SOIC/TSSOP ICs:*
      1. Apply flux to pads
      2. Tack one corner pin
      3. Align all other pins
      4. Tack opposite corner
      5. Drag solder across pins (flux helps prevent bridges)
      6. Remove bridges with wick

      **Essential SMD Tools**

      - Fine-tip tweezers (curved and straight)
      - Flux pen or syringe
      - Fine solder (0.5mm or thinner)
      - Magnification (loupe, microscope, or magnifying lamp)
      - Fine chisel or conical tip

      **Common SMD Problems**

      | Problem | Cause | Fix |
      |---------|-------|-----|
      | Bridges | Too much solder, no flux | Add flux, wick away excess |
      | Tombstoning | Uneven heating | Heat both pads evenly |
      | Cold joint | Insufficient heat | Reflow with more heat/time |
      | Component moved | Touched before solidified | Reflow and hold still |

      **When Hand Soldering Won't Work**

      - BGA packages (balls underneath)
      - QFN with large ground pad
      - Very fine pitch (<0.4mm)

      These need reflow oven, hot air, or hot plate.
  time-domain-basics:
    name: Time domain basics
    notes: |
      The oscilloscope displays voltage versus time — essential for seeing signal behavior.

      **Basic Controls**

      | Control | Function |
      |---------|----------|
      | **Vertical (V/div)** | Voltage scale — volts per grid division |
      | **Horizontal (s/div)** | Time scale — seconds per grid division |
      | **Position** | Move trace up/down or left/right |
      | **Coupling** | AC (blocks DC), DC (shows all), GND (baseline) |

      **Reading the Display**

      - Grid is typically 8×10 divisions
      - Amplitude = (peak-to-peak divisions) × (V/div)
      - Period = (one cycle divisions) × (s/div)
      - Frequency = 1/Period

      **Example**

      If V/div = 2V and signal spans 3 divisions peak-to-peak:
      $$V_{pp} = 3 \times 2V = 6V$$

      If s/div = 1ms and one cycle spans 4 divisions:
      $$T = 4 \times 1ms = 4ms$$
      $$f = 1/4ms = 250Hz$$

      **Triggering**

      Triggering synchronizes the display to a repeating signal.

      - **Level**: Voltage threshold to start sweep
      - **Slope**: Rising edge (↗) or falling edge (↘)
      - **Source**: Which channel to trigger from
      - **Mode**: Auto (always sweeps), Normal (waits for trigger), Single (one shot)

      **Why Triggering Matters**

      Without stable triggering, waveform appears to drift or jump. Adjust level until display is stable.

      **AC vs DC Coupling**

      - **DC coupling**: Shows signal including DC offset
      - **AC coupling**: Blocks DC, shows only AC component (centers around 0V)
      - Use AC coupling when DC offset would push signal off screen
  voltage-measurement:
    name: Voltage measurement
    notes: |
      Measuring voltage is the most common multimeter function — always measured **in parallel**.

      **DC Voltage (V⎓ or VDC)**

      1. Set meter to DC voltage range (or auto-range)
      2. Connect **in parallel** with component or across two points
      3. Red lead to higher potential, black to lower
      4. Read value — negative means polarity is reversed

      **AC Voltage (V~ or VAC)**

      1. Set meter to AC voltage range
      2. Connect in parallel (polarity doesn't matter)
      3. Most meters show **RMS** value
      4. Only accurate for sinusoidal signals!

      **Important Notes**

      - **Never exceed rated voltage** — can damage meter or cause injury
      - High input impedance (~10 MΩ) means minimal circuit loading
      - For high-impedance circuits, even 10 MΩ can affect readings

      **True RMS vs Average-Responding**

      - **Average-responding**: Cheap meters, accurate only for sine waves
      - **True RMS**: Accurate for any waveform (square, triangle, distorted)
      - For switching power supplies and non-sinusoidal signals, use True RMS

      **Common Voltage Checks**

      | Source | Expected Value |
      |--------|----------------|
      | AA/AAA battery | 1.5V (fresh), <1.2V (dead) |
      | 9V battery | 9V (fresh), <7V (dead) |
      | USB port | 4.75–5.25V |
      | Car battery | 12.6V (charged), <12V (low) |
      | Wall outlet (US) | 120V RMS |
      | Wall outlet (UK/EU) | 230V RMS |
  wiring-techniques:
    name: Wiring techniques
    notes: |
      Good wiring practices prevent errors and make debugging easier.

      **Wire Selection**

      - **22 AWG solid core**: Standard for breadboarding
      - Pre-cut jumper wire kits available in various lengths
      - Color code by function:
        - Red: Positive supply
        - Black: Ground
        - Other colors: Signals

      **Wiring Best Practices**

      1. **Keep wires flat** against the board when possible
      2. **Use appropriate lengths** — not too long, not too tight
      3. **Route neatly** — parallel runs, right angles
      4. **Don't cross wires** unnecessarily
      5. **Leave space** for probing with multimeter/scope

      **Component Placement**

      - Orient ICs consistently (pin 1 always same corner)
      - Leave room around ICs for connections
      - Group related components together
      - Keep analog and digital sections separate if possible

      **Power Distribution**

      - Connect power rails to supply first
      - Add 0.1 μF decoupling capacitor near each IC
      - Use short, direct ground connections
      - Consider separate analog and digital grounds
