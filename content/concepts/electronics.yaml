# EEE Roadmap — Concept Library: electronics
# Auto-generated by scripts/migrate-to-library.mjs — review and edit as needed.
# See CONTRIBUTING.md for the concept file format.
_meta:
  domain: electronics
  description: Semiconductor devices, amplifiers, and analogue electronics
concepts:
  bjt-biasing:
    name: BJT biasing
    notes: |
      BJT biasing establishes the DC operating point (Q-point) for linear amplification.
      The goal is to set $I_C$ and $V_{CE}$ in the active region where the transistor
      amplifies without distortion.

      **The Four Operating Regions:**
      - **Cutoff**: Both junctions reverse-biased, $I_C \approx 0$
      - **Active**: B-E forward, B-C reverse — this is where amplification happens
      - **Saturation**: Both junctions forward-biased, transistor acts as closed switch
      - **Breakdown**: Excessive voltage destroys the device

      **Key Relationships:**

      $$I_C = \beta I_B$$

      $$I_E = I_C + I_B = (\beta + 1)I_B$$

      $$I_C = I_S e^{V_{BE}/V_T}$$

      where $V_T \approx 26mV$ at room temperature and $\beta$ typically ranges from 50-300.

      **Common Biasing Configurations:**
      - **Fixed bias**: Simple but unstable — $I_C$ varies wildly with $\beta$
      - **Voltage divider bias**: Most common, provides good stability
      - **Emitter feedback**: Resistor $R_E$ stabilizes against $\beta$ variations

      ![Voltage divider bias circuit](https://upload.wikimedia.org/wikipedia/commons/8/81/Voltage_divider_bias.svg)

      The load line on the I-V characteristic shows all possible operating points.
      Where the load line intersects the base current curve determines the Q-point.

      ![BJT I-V characteristics](https://upload.wikimedia.org/wikipedia/commons/6/6d/Output_characteristic_common-emitter_silicon_transistor-en.svg)

      **Design Rule of Thumb:** For voltage divider bias, make the divider current
      at least 10× the base current to minimize loading effects.

      ![MIT OCW BJT Fundamentals](/pdfs/mit-bjt-fundamentals.pdf)

      For more depth, see [All About Circuits BJT Chapter](https://www.allaboutcircuits.com/textbook/semiconductors/chpt-4/bipolar-junction-transistors/).
  bode-plots:
    name: Bode plots
    notes: |
      Bode plots show magnitude and phase vs. frequency on logarithmic scales.
      Essential for understanding and designing filters.

      **Magnitude Plot:**

      $$|H|_{dB} = 20\log_{10}|H(j\omega)|$$

      **Phase Plot:**

      $$\angle H(j\omega) = \arctan\left(\frac{\text{Im}(H)}{\text{Re}(H)}\right)$$

      ![Bode plot example](https://upload.wikimedia.org/wikipedia/commons/1/1a/Bode-PT1.svg)

      **Sketching Rules (1st Order):**
      - Below $f_c$: flat at 0 dB
      - Above $f_c$: -20 dB/decade slope
      - At $f_c$: -3 dB, phase = -45°
      - Phase goes from 0° to -90° over ~2 decades centered at $f_c$

      **Combining Stages:**
      - Magnitude: add dB values
      - Phase: add angles
      - Cascaded filters multiply transfer functions
  butterworth-vs-chebyshev:
    name: Butterworth vs Chebyshev
    notes: |
      Filter design involves tradeoffs between passband flatness, transition
      sharpness, and phase response.

      **Butterworth (Maximally Flat):**

      $$|H(j\omega)|^2 = \frac{1}{1+(\omega/\omega_c)^{2n}}$$

      - Flattest possible passband
      - Moderate roll-off
      - Good all-around choice

      **Chebyshev Type I (Equiripple Passband):**
      - Ripple in passband (you choose how much)
      - Sharper roll-off than Butterworth
      - More ringing in step response

      **Chebyshev Type II (Equiripple Stopband):**
      - Flat passband
      - Ripple in stopband
      - Sharp roll-off

      ![Butterworth Bode plot](https://upload.wikimedia.org/wikipedia/commons/6/6b/Butterworth_filter_bode_plot.svg)

      **Selection Guide:**
      - Need flat passband? → Butterworth
      - Need sharp cutoff? → Chebyshev
      - Need linear phase? → Bessel (not covered here)
  capacitance:
    name: Capacitance
    notes: |
      Capacitance measures the ability to store charge — fundamental to filtering, timing, and energy storage.

      **Definition**

      $$\boxed{C = \frac{Q}{V}}$$

      Units: Farads (F) — typically μF, nF, or pF in practice

      **Parallel Plate Capacitor**

      ![Parallel plate capacitor](https://commons.wikimedia.org/wiki/Special:FilePath/Parallel_plate_capacitor.svg)

      $$C = \varepsilon_0\varepsilon_r\frac{A}{d}$$

      where:
      - $\varepsilon_0 = 8.854 \times 10^{-12}$ F/m
      - $\varepsilon_r$ = relative permittivity (dielectric constant)
      - $A$ = plate area
      - $d$ = plate separation

      **Increasing Capacitance**

      - Larger plates (more area)
      - Plates closer together (smaller $d$)
      - Higher dielectric constant material

      **Current-Voltage Relationship**

      $$i = C\frac{dv}{dt}$$

      - Capacitor opposes voltage changes
      - DC steady state: $i = 0$ (open circuit)
      - Voltage cannot change instantaneously

      **Energy Stored**

      $$E = \frac{1}{2}CV^2$$

      **Impedance**

      $$Z_C = \frac{1}{j\omega C} = \frac{-j}{\omega C}$$

      - Low frequency: High impedance (blocks DC)
      - High frequency: Low impedance (passes AC)

      **Combining Capacitors**

      *Parallel* (like adding plate area):
      $$C_{total} = C_1 + C_2 + C_3 + ...$$

      *Series* (like increasing plate separation):
      $$\frac{1}{C_{total}} = \frac{1}{C_1} + \frac{1}{C_2} + ...$$

      Note: Opposite of resistors!
  capacitor-types:
    name: Capacitor types
    notes: |
      Different capacitor types are optimized for different applications.

      **Ceramic (MLCC)**

      - Range: 1 pF to 100 μF
      - Voltage: 6.3V to several kV
      - Non-polarized
      - Small size, low ESR
      - **Class 1 (C0G/NP0)**: Stable, low capacitance, precision
      - **Class 2 (X7R, X5R)**: Higher capacitance, moderate stability
      - **Class 3 (Y5V, Z5U)**: Highest capacitance, worst stability
      - Use for: Decoupling, filtering, timing (C0G only)

      **Electrolytic (Aluminum)**

      - Range: 0.1 μF to 1 F
      - Voltage: 6.3V to 450V
      - **Polarized** — observe polarity or explosion risk!
      - High ESR (equivalent series resistance)
      - Limited life (~2000–10000 hours at rated temp)
      - Use for: Bulk power supply filtering

      **Tantalum**

      - Range: 0.1 μF to 1000 μF
      - Voltage: 4V to 50V typical
      - **Polarized**
      - Lower ESR than aluminum electrolytic
      - Can fail short (fire risk!) — derate voltage heavily
      - Use for: Space-constrained power filtering

      **Film Capacitors**

      - Range: 100 pF to 100 μF
      - Voltage: 50V to 2000V+
      - Non-polarized
      - Low ESR, excellent stability
      - Types: Polypropylene (best), Polyester (cheaper)
      - Use for: Audio, precision timing, AC applications

      **Selection Summary**

      | Application | Recommended Type |
      |-------------|------------------|
      | RF/precision | C0G ceramic, mica |
      | IC decoupling | X7R ceramic |
      | Power supply bulk | Aluminum electrolytic |
      | Audio coupling | Film (polypropylene) |
      | Timing circuits | Film or C0G ceramic |
      | High voltage | Film |
  color-codes:
    name: Color codes
    notes: |
      Resistor color bands encode resistance value and tolerance — essential for identifying components.

      ![Resistor color code chart](https://commons.wikimedia.org/wiki/Special:FilePath/Resistor_Color_Code.svg)

      **4-Band Resistors**

      ![4-band resistor example](https://commons.wikimedia.org/wiki/Special:FilePath/4-Band_Resistor.svg)

      | Band | Meaning |
      |------|---------|
      | 1st | First digit |
      | 2nd | Second digit |
      | 3rd | Multiplier (×10ⁿ) |
      | 4th | Tolerance |

      **5-Band Resistors** (precision)

      | Band | Meaning |
      |------|---------|
      | 1st | First digit |
      | 2nd | Second digit |
      | 3rd | Third digit |
      | 4th | Multiplier |
      | 5th | Tolerance |

      **Color Values**

      | Color | Digit | Multiplier | Tolerance |
      |-------|-------|------------|-----------|
      | Black | 0 | ×1 | — |
      | Brown | 1 | ×10 | ±1% |
      | Red | 2 | ×100 | ±2% |
      | Orange | 3 | ×1k | — |
      | Yellow | 4 | ×10k | — |
      | Green | 5 | ×100k | ±0.5% |
      | Blue | 6 | ×1M | ±0.25% |
      | Violet | 7 | ×10M | ±0.1% |
      | Gray | 8 | — | ±0.05% |
      | White | 9 | — | — |
      | Gold | — | ×0.1 | ±5% |
      | Silver | — | ×0.01 | ±10% |

      **Mnemonic**: "**B**etter **B**e **R**ight **O**r **Y**our **G**reat **B**ig **V**enture **G**oes **W**rong"

      **Example**

      Brown-Black-Red-Gold = 1, 0, ×100, ±5% = **1 kΩ ±5%**

      **SMD Resistor Codes**

      3-digit: First two = digits, third = multiplier
      - "103" = 10 × 10³ = 10 kΩ
      - "4R7" = 4.7 Ω (R marks decimal)
  comparators:
    name: Comparators
    notes: |
      Comparators are op-amps used without negative feedback (or with positive
      feedback for hysteresis). They output a digital-like high or low based
      on which input is larger.

      **Basic Comparator:**

      $$V_{out} = \begin{cases} V_{high} & \text{if } V_+ > V_- \\ V_{low} & \text{if } V_+ < V_- \end{cases}$$

      **The Problem with Simple Comparators:**
      Noise near the threshold causes rapid oscillation (chatter) as the input
      crosses back and forth.

      ![Schmitt trigger](https://upload.wikimedia.org/wikipedia/commons/e/e4/Op-Amp_Schmitt_Trigger.svg)

      **Schmitt Trigger (Comparator with Hysteresis):**
      Positive feedback creates two different thresholds — one for rising
      inputs, one for falling.

      ![Hysteresis curve](https://upload.wikimedia.org/wikipedia/commons/7/7a/Hysteresis_sharp_curve.svg)

      **Hysteresis Thresholds:**

      $$V_{TH} = V_{ref}\frac{R_1}{R_1+R_2} + V_{sat}\frac{R_2}{R_1+R_2}$$

      $$V_{TL} = V_{ref}\frac{R_1}{R_1+R_2} - V_{sat}\frac{R_2}{R_1+R_2}$$

      Hysteresis width: $\Delta V = V_{TH} - V_{TL}$

      **Dedicated Comparator ICs vs Op-Amps:**
      - Comparators: Faster (ns), open-collector outputs, no compensation
      - Op-amps: Slower in open-loop, may oscillate, but work in a pinch

      **Applications:**
      - Zero-crossing detectors
      - Window comparators (in-range detection)
      - PWM generation
      - ADC building blocks
  core-materials:
    name: Core materials
    notes: |
      Core material dramatically affects inductor performance — choose based on frequency and power.

      **Air Core**

      - No saturation (linear to any current)
      - Low inductance per turn
      - No core losses
      - Use for: RF circuits, high-frequency applications

      **Iron/Steel (Laminated)**

      - Very high permeability (~1000–5000)
      - Saturates at moderate flux density
      - High core losses at high frequency
      - Use for: 50/60 Hz transformers, chokes

      **Ferrite**

      - Moderate permeability (~100–3000)
      - High resistivity (low eddy current losses)
      - Use for: Switching power supplies (100 kHz – 1 MHz)
      - Types: Manganese-zinc (MnZn) for lower freq, Nickel-zinc (NiZn) for higher

      **Powdered Iron**

      - Distributed air gap (soft saturation)
      - Lower permeability than ferrite
      - Good for DC bias applications
      - Use for: Output inductors in buck converters

      **Saturation**

      When the core saturates:
      - Permeability drops dramatically
      - Inductance collapses
      - Current spikes!

      $$B = \mu_0 \mu_r \frac{N \cdot I}{l_e}$$

      Always check: $B_{max} < B_{sat}$ at peak current.

      **Core Loss**

      Two mechanisms:
      - **Hysteresis**: Energy lost cycling B-H curve
      - **Eddy currents**: Circulating currents in core

      Both increase with frequency — why different cores suit different frequencies.
  cutoff-frequency:
    name: Cutoff frequency
    notes: |
      The cutoff frequency ($f_c$) marks where the filter begins to attenuate.
      Defined as the -3dB point where output power is half the passband value.

      **RC Low-Pass Filter:**

      $$f_c = \frac{1}{2\pi RC}$$

      ![RC low-pass filter](https://upload.wikimedia.org/wikipedia/commons/e/e0/1st_Order_Lowpass_Filter_RC.svg)

      At $f_c$: $|H(j\omega_c)| = \frac{1}{\sqrt{2}} \approx 0.707$ (-3dB)

      **Transfer Function (1st Order Low-Pass):**

      $$H(s) = \frac{1}{1 + sRC} = \frac{1}{1 + s/\omega_c}$$
  dielectrics:
    name: Dielectrics
    notes: |
      The dielectric material between plates determines capacitor properties and limitations.

      ![Capacitor with dielectric](https://commons.wikimedia.org/wiki/Special:FilePath/Capacitor_schematic_with_dielectric.svg)

      **Dielectric Constant (εᵣ)**

      | Material | εᵣ | Notes |
      |----------|-----|-------|
      | Vacuum | 1.0 | Reference |
      | Air | 1.0006 | ~Same as vacuum |
      | Teflon | 2.1 | Low loss |
      | Polyester | 3.3 | Film capacitors |
      | Paper | 3.5 | Older capacitors |
      | Glass | 5–10 | Stable |
      | Mica | 6–8 | Very stable, RF |
      | Ceramic (C0G) | 6–200 | Temperature stable |
      | Ceramic (X7R) | 2000–4000 | High capacitance |
      | Ceramic (Y5V) | 4000–14000 | Highest capacitance, worst stability |

      **Dielectric Strength**

      Maximum voltage before breakdown — why voltage ratings matter!

      **Breakdown = permanent damage** (often a short circuit)

      **Temperature Effects**

      - Some dielectrics (X7R, Y5V) lose capacitance at temperature extremes
      - C0G/NP0 ceramics are stable but lower capacitance density
      - Electrolytic capacitors dry out at high temperatures (shorter life)

      **Voltage Derating**

      Rule of thumb: Operate at ≤50–80% of rated voltage for reliability

      **Frequency Effects**

      Real capacitors have:
      - **ESR** (Equivalent Series Resistance): Causes losses, heating
      - **ESL** (Equivalent Series Inductance): Limits high-frequency performance
      - **Leakage current**: Especially in electrolytics
  diode-characteristics:
    name: Diode characteristics
    notes: |
      Understanding the I-V curve lets you model and use diodes correctly.

      ![Diode I-V characteristic curve](https://commons.wikimedia.org/wiki/Special:FilePath/Diode-IV-Curve.svg)

      **Forward Characteristics**

      - Below ~0.5V: Negligible current
      - Above ~0.7V (Si): Current increases exponentially
      - **Knee voltage**: Where conduction really begins

      **Simplified Models**

      | Model | Description | Use When |
      |-------|-------------|----------|
      | Ideal | Short when forward, open when reverse | Quick analysis |
      | Constant drop | 0.7V drop when forward | Most hand calculations |
      | Piecewise linear | 0.7V + slope resistance | More accurate |
      | Full exponential | Uses diode equation | SPICE simulation |

      **Temperature Effects**

      - Forward voltage decreases ~2 mV/°C
      - Leakage current doubles every ~10°C
      - This is why diodes are used as temperature sensors

      **Reverse Characteristics**

      - Small leakage current (nA to μA)
      - Relatively constant until breakdown
      - **Breakdown voltage** (PIV, V_RRM): Must not be exceeded!

      **Dynamic Resistance**

      For small signals around operating point:
      $$r_d = \frac{nV_T}{I_D} \approx \frac{26\text{ mV}}{I_D}$$

      At 1 mA: $r_d \approx 26$ Ω
  diode-types:
    name: Diode types
    notes: |
      Different diode types are optimized for different applications.

      **Rectifier Diodes (1N400x series)**

      - General purpose AC-to-DC conversion
      - 1N4001: 50V, 1A
      - 1N4007: 1000V, 1A
      - Slow recovery — not for high-frequency switching

      **Schottky Diodes**

      - Metal-semiconductor junction (no PN junction)
      - Lower forward voltage (~0.2–0.4V)
      - Very fast switching (no minority carrier storage)
      - Higher leakage current
      - Use for: Power supplies, high-frequency rectification, clamping

      **Zener Diodes**

      - Designed to operate in reverse breakdown
      - Stable, controlled breakdown voltage (2.4V to 200V)
      - Use for: Voltage regulation, voltage reference, overvoltage protection
      - Specified by Zener voltage (Vz) at test current

      **Signal Diodes (1N4148, 1N914)**

      - Small, fast, low capacitance
      - Lower current ratings (~200 mA)
      - Use for: Signal clamping, switching, logic circuits

      **LEDs (Light Emitting Diodes)**

      - Forward voltage depends on color:
        - Red: ~1.8V
        - Green: ~2.2V
        - Blue/White: ~3.0–3.5V
      - Current sets brightness (typically 10–20 mA)
      - Always use current-limiting resistor!

      $$R = \frac{V_{supply} - V_{LED}}{I_{LED}}$$

      **Photodiodes**

      - Generate current when exposed to light
      - Photovoltaic mode: No bias, generates voltage
      - Photoconductive mode: Reverse biased, faster response
      - Use for: Light sensors, optical communication

      **TVS (Transient Voltage Suppressor)**

      - Fast-acting overvoltage protection
      - Clamps voltage spikes
      - Use for: ESD protection, surge suppression

      **Selection Summary**

      | Application | Best Choice |
      |-------------|-------------|
      | AC rectification | Standard rectifier |
      | High-efficiency power | Schottky |
      | Voltage regulation | Zener |
      | Fast switching | Schottky or signal diode |
      | Overvoltage protection | TVS or Zener |
  feedback:
    name: Feedback
    notes: |
      Feedback is the foundation of op-amp circuits. Negative feedback trades
      gain for improved performance in almost every other metric.

      **Negative Feedback Benefits:**
      - Reduced distortion
      - Increased bandwidth
      - Stabilized gain (depends on passive components, not op-amp)
      - Reduced output impedance
      - Reduced sensitivity to component variations

      ![Feedback block diagram](https://upload.wikimedia.org/wikipedia/commons/b/b5/Ideal_feedback_model.svg)

      **Closed-Loop Gain:**

      $$A_f = \frac{A}{1 + A\beta}$$

      where $A$ is open-loop gain and $\beta$ is the feedback fraction.

      For large loop gain ($A\beta >> 1$):

      $$A_f \approx \frac{1}{\beta}$$

      This is why op-amp gain depends only on resistor ratios!

      **The Four Feedback Topologies:**

      | Topology | Samples | Returns | Effect |
      |----------|---------|---------|--------|
      | Series-Shunt | Voltage | Voltage | Voltage amplifier |
      | Shunt-Series | Current | Current | Current amplifier |
      | Series-Series | Voltage | Current | Transconductance |
      | Shunt-Shunt | Current | Voltage | Transimpedance |

      **Stability Concern:**
      Negative feedback can become positive at high frequencies due to phase
      shift, causing oscillation. The op-amp's internal compensation prevents
      this for most applications.

      **Loop Gain:** $T = A\beta$ determines stability margin and how well
      the virtual short approximation holds.
  gain-bandwidth-product:
    name: Gain-bandwidth product
    notes: |
      Real op-amps have finite bandwidth. The gain-bandwidth product (GBW) is
      approximately constant — trading gain for bandwidth.

      **Single-Pole Model:**

      $$A(f) = \frac{A_0}{1 + j\frac{f}{f_p}}$$

      where $A_0$ is DC open-loop gain (often 100,000+) and $f_p$ is the dominant
      pole frequency (often just a few Hz).

      ![Gain-bandwidth product](https://upload.wikimedia.org/wikipedia/commons/1/1e/Gain-bandwidth_product.svg)

      **The GBW Relationship:**

      $$GBW = A_{closed} \times f_{-3dB} = \text{constant}$$

      For a 741 with GBW = 1 MHz:
      - Gain of 1 → Bandwidth = 1 MHz
      - Gain of 10 → Bandwidth = 100 kHz
      - Gain of 100 → Bandwidth = 10 kHz

      **Unity-Gain Frequency ($f_T$):**
      The frequency where open-loop gain drops to 1 (0 dB). This equals GBW
      for single-pole systems.

      **Practical Implications:**
      - High-gain stages have limited bandwidth
      - Cascade multiple low-gain stages for high gain with good bandwidth
      - Modern op-amps: GBW from 1 MHz (general purpose) to 1 GHz+ (high-speed)

      **Slew Rate Limitation:**
      Large signals can't change faster than the slew rate (V/μs):

      $$f_{max} = \frac{SR}{2\pi V_{peak}}$$

      A 741 with SR = 0.5 V/μs can only output a 10V peak sine up to ~8 kHz.
  inductance-basics:
    name: Inductance basics
    notes: |
      Inductors store energy in magnetic fields — essential for filters, power supplies, and RF circuits.

      **Definition**

      $$\boxed{v = L\frac{di}{dt}}$$

      Units: Henrys (H) — typically μH, mH, or nH in practice

      **Physical Basis**

      Changing current creates changing magnetic flux, which induces back-EMF opposing the change. More turns or better magnetic coupling = more inductance.

      **Solenoid Inductance**

      $$L = \frac{\mu_0 \mu_r N^2 A}{l}$$

      where:
      - $\mu_0 = 4\pi \times 10^{-7}$ H/m
      - $\mu_r$ = relative permeability of core
      - $N$ = number of turns
      - $A$ = cross-sectional area
      - $l$ = length

      **Energy Stored**

      $$E = \frac{1}{2}LI^2$$

      **Impedance**

      $$Z_L = j\omega L$$

      - Low frequency: Low impedance (passes DC)
      - High frequency: High impedance (blocks AC)

      Opposite behavior to capacitors!

      **Current-Voltage Behavior**

      - Inductor opposes current changes
      - DC steady state: $v = 0$ (short circuit)
      - Current cannot change instantaneously (would require infinite voltage)

      **Combining Inductors** (no mutual coupling)

      *Series*:
      $$L_{total} = L_1 + L_2 + L_3 + ...$$

      *Parallel*:
      $$\frac{1}{L_{total}} = \frac{1}{L_1} + \frac{1}{L_2} + ...$$

      Same rules as resistors!
  inductor-types:
    name: Inductor types
    notes: |
      Different inductor constructions suit different applications.

      **Through-Hole Axial/Radial**

      - Range: 1 μH to 10 mH
      - Current: Up to several amps
      - Inexpensive, easy to use
      - Use for: General filtering, hobby projects

      **Toroidal**

      - Doughnut-shaped core
      - Excellent magnetic shielding (field contained)
      - High inductance in small size
      - Use for: EMI-sensitive applications, power supplies

      **SMD Chip Inductors**

      - Range: 1 nH to 100 μH typical
      - Very small (0402 to 1210 packages)
      - Types:
        - **Multilayer ceramic**: Lowest cost, moderate Q
        - **Wire wound**: Higher Q, higher current
        - **Thin film**: Tight tolerance, RF applications

      **SMD Power Inductors**

      - Range: 1 μH to 1 mH
      - Current: 0.5 A to 30 A+
      - Shielded or unshielded
      - Use for: DC-DC converter energy storage

      **RF Inductors**

      - Optimized for high Q at specific frequencies
      - Air core or low-loss ferrite
      - Tight inductance tolerance
      - Use for: Tuned circuits, impedance matching

      **Key Specifications**

      | Parameter | What It Means |
      |-----------|---------------|
      | L | Inductance at specified frequency |
      | DCR | DC resistance (wire loss) |
      | Isat | Current where L drops 20–30% |
      | Irms | Max continuous current (thermal) |
      | SRF | Self-resonant frequency (parasitic capacitance) |
      | Q | Quality factor at specified frequency |

      **Self-Resonant Frequency**

      Every inductor has parasitic capacitance. Above SRF, it behaves like a capacitor! Always operate below SRF.
  mosfet-operation:
    name: MOSFET operation
    notes: |
      MOSFETs are voltage-controlled devices — the gate voltage creates an electric
      field that modulates channel conductivity. No gate current flows (in DC), giving
      extremely high input impedance.

      **Structure and Physics:**
      The gate is insulated from the channel by a thin oxide layer. Applying $V_{GS} > V_{th}$
      creates an inversion layer (channel) between source and drain.

      ![MOSFET cross-section](https://upload.wikimedia.org/wikipedia/commons/7/79/Lateral_mosfet.svg)

      **Operating Regions:**

      | Region | Condition | Drain Current |
      |--------|-----------|---------------|
      | Cutoff | $V_{GS} < V_{th}$ | $I_D \approx 0$ |
      | Linear (Triode) | $V_{GS} > V_{th}$, $V_{DS} < V_{GS} - V_{th}$ | $I_D = \mu_n C_{ox} \frac{W}{L}\left[(V_{GS}-V_{th})V_{DS} - \frac{V_{DS}^2}{2}\right]$ |
      | Saturation | $V_{GS} > V_{th}$, $V_{DS} \geq V_{GS} - V_{th}$ | $I_D = \frac{1}{2}\mu_n C_{ox} \frac{W}{L}(V_{GS}-V_{th})^2$ |

      **The Saturation Equation (Square Law):**

      $$I_D = \frac{1}{2}\mu_n C_{ox} \frac{W}{L}(V_{GS}-V_{th})^2(1 + \lambda V_{DS})$$

      where $\lambda$ is the channel-length modulation parameter.

      ![MOSFET I-V characteristics](https://upload.wikimedia.org/wikipedia/commons/1/1d/IvsV_mosfet.svg)

      **Enhancement vs Depletion:**
      - Enhancement mode (most common): Channel forms when $V_{GS} > V_{th}$
      - Depletion mode: Channel exists at $V_{GS} = 0$, removed by negative $V_{GS}$

      **Why MOSFETs Dominate Digital:**
      - Near-zero static power (no gate current)
      - Easy to fabricate complementary pairs (CMOS)
      - Scales well with smaller geometries

      For switching applications, the goal is to operate fully in cutoff or deep
      in the linear region (as a closed switch with low $R_{DS(on)}$).
  pn-junction:
    name: PN junction
    notes: |
      The PN junction is the fundamental building block of diodes — where semiconductor physics meets circuit behavior.

      **What Is a PN Junction?**

      - **P-type**: Silicon doped with acceptors (e.g., boron) — excess holes
      - **N-type**: Silicon doped with donors (e.g., phosphorus) — excess electrons

      When joined, electrons and holes diffuse across the junction, creating a **depletion region** with no mobile carriers.

      ![PN junction at equilibrium](https://commons.wikimedia.org/wiki/Special:FilePath/Pn-junction-equilibrium.svg)

      **Built-In Potential**

      The diffusion creates an electric field and potential barrier:
      $$V_{bi} \approx 0.6–0.7\text{ V}$$ for silicon

      This is why silicon diodes have ~0.7V forward voltage drop.

      **Forward Bias**

      - Positive voltage on P, negative on N
      - Reduces depletion width
      - Current flows easily above threshold (~0.7V for Si)

      **Reverse Bias**

      - Positive voltage on N, negative on P
      - Widens depletion region
      - Very small leakage current (nA to μA)
      - Breakdown at high voltage (Zener effect)

      **Diode Equation**

      $$I = I_S\left(e^{V_D/nV_T} - 1\right)$$

      where:
      - $I_S$ = saturation current (~10⁻¹² A for small signal diodes)
      - $V_T = kT/q \approx 26$ mV at room temperature
      - $n$ = ideality factor (1 to 2)

      For $V_D >> V_T$: Current roughly doubles every 60 mV increase.
  power-ratings:
    name: Power ratings
    notes: |
      Power rating determines how much heat a resistor can safely dissipate.

      **Power Dissipation**

      $$P = I^2R = \frac{V^2}{R} = IV$$

      This power becomes heat — exceed the rating and the resistor burns.

      **Common Through-Hole Ratings**

      | Size | Power Rating |
      |------|--------------|
      | 1/8 W | Small signal, low current |
      | 1/4 W | Most common, general purpose |
      | 1/2 W | Moderate power |
      | 1 W+ | Power applications |

      **Common SMD Ratings**

      | Package | Power Rating |
      |---------|--------------|
      | 0402 | 1/16 W |
      | 0603 | 1/10 W |
      | 0805 | 1/8 W |
      | 1206 | 1/4 W |
      | 2512 | 1 W |

      **Temperature Derating**

      Ratings assume 25°C ambient. At higher temperatures, derate:
      - Typical: 50% at 70°C, 0% at 125°C
      - Always check datasheet curves

      **Design Rule of Thumb**

      Use a resistor rated for **at least 2× the expected power** dissipation. This provides margin for:
      - Component tolerances
      - Temperature rise
      - Transient conditions
  resistor-types:
    name: Resistor types
    notes: |
      Different resistor technologies suit different applications.

      **Carbon Composition**

      - Oldest type, rarely used now
      - High noise, poor stability
      - Good for high-energy pulse absorption

      **Carbon Film**

      - Thin carbon layer on ceramic
      - Inexpensive, general purpose
      - Tolerance: ±5%
      - Temperature coefficient: ~−200 to −500 ppm/°C

      **Metal Film**

      - Thin metal alloy layer
      - Low noise, stable
      - Tolerance: ±1% or better
      - Temp coefficient: ±50 to ±100 ppm/°C
      - **Best choice for precision analog circuits**

      **Wirewound**

      - Wire wrapped on ceramic core
      - High power capability (5W to 100W+)
      - Very low noise
      - **Problem**: Significant inductance — avoid in high-frequency circuits

      **Thick Film (SMD)**

      - Most common SMD type
      - Good for general purpose
      - Tolerance: ±1% to ±5%

      **Thin Film (SMD)**

      - Higher precision than thick film
      - Lower noise
      - Tolerance: ±0.1% available
      - **Use for precision applications**

      **Selection Guidelines**

      | Application | Best Type |
      |-------------|-----------|
      | General digital | Carbon/thick film |
      | Precision analog | Metal/thin film |
      | High power | Wirewound |
      | High frequency | Metal film (non-inductive) |
      | Current sensing | Low-value wirewound or metal strip |
  roll-off:
    name: Roll-off
    notes: |
      Roll-off describes how quickly a filter attenuates beyond cutoff.
      Measured in dB per decade (10× frequency) or dB per octave (2×).

      **First-Order Filter:** -20 dB/decade = -6 dB/octave

      **nth-Order Filter:** $-20n$ dB/decade

      Higher order = sharper transition but more complexity and potential
      for instability.

      **Why It Matters:**
      A 1st-order filter at 1 kHz only attenuates a 10 kHz signal by 20 dB.
      A 4th-order filter achieves 80 dB — much better noise rejection.
  saturation-vs-active-region:
    name: Saturation vs active region
    notes: |
      Understanding operating regions is critical for both amplifier design
      (stay in active) and switching circuits (transition through regions quickly).

      **BJT Regions Summary:**

      | Region | B-E Junction | B-C Junction | Use |
      |--------|--------------|--------------|-----|
      | Cutoff | Reverse | Reverse | OFF switch |
      | Active | Forward | Reverse | Amplification |
      | Saturation | Forward | Forward | ON switch |
      | Reverse Active | Reverse | Forward | Rarely used |

      **Detecting Saturation (BJT):**
      In saturation, $V_{CE(sat)} \approx 0.1-0.3V$ regardless of base current.
      The transistor can't sink more collector current — it's "bottomed out."

      $$I_C < \beta I_B \text{ (saturated)}$$
      $$I_C = \beta I_B \text{ (active)}$$

      **MOSFET Regions:**

      The "saturation" terminology is confusingly opposite to BJTs:
      - MOSFET **saturation** = constant current region (used for amplification)
      - MOSFET **linear/triode** = resistive region (used for switching)

      **Boundary Condition:**

      $$V_{DS} = V_{GS} - V_{th} \text{ (edge of saturation)}$$

      ![Operating regions on I-V curve](https://upload.wikimedia.org/wikipedia/commons/1/1d/IvsV_mosfet.svg)

      **Practical Implications:**
      - **Amplifiers**: Bias in active/saturation region with margin
      - **Switches**: Drive hard into cutoff or ohmic region
      - **Power dissipation**: Highest during transitions through active region
  small-signal-models:
    name: Small-signal models
    notes: |
      Small-signal analysis linearizes transistor behavior around the Q-point.
      We replace the nonlinear device with a linear equivalent circuit valid for
      small AC variations.

      **The Hybrid-Pi Model (BJT):**

      ![BJT hybrid-pi model](https://upload.wikimedia.org/wikipedia/commons/d/dd/NPN_BJT_Hybrid_Pi_model_common-emitter_high_frequency.svg)

      Key parameters:

      $$g_m = \frac{I_C}{V_T} \approx 40 \cdot I_C \text{ (at room temp)}$$

      $$r_\pi = \frac{\beta}{g_m} = \frac{V_T}{I_B}$$

      $$r_o = \frac{V_A}{I_C}$$

      where $V_A$ is the Early voltage (typically 50-100V).

      **MOSFET Small-Signal Model:**

      ![MOSFET small-signal model](https://upload.wikimedia.org/wikipedia/commons/7/7e/MOSFET_small_signal.svg)

      $$g_m = \frac{2I_D}{V_{GS} - V_{th}} = \sqrt{2\mu_n C_{ox} \frac{W}{L} I_D}$$

      $$r_o = \frac{1}{\lambda I_D}$$

      **Using Small-Signal Models:**
      1. Find DC operating point (bias analysis)
      2. Replace transistor with small-signal model
      3. Short all DC voltage sources, open DC current sources
      4. Analyze resulting linear circuit

      **Voltage Gain (Common-Emitter/Source):**

      $$A_v = -g_m(r_o \| R_L)$$

      The negative sign indicates phase inversion.

      **Miller Effect:** Feedback capacitance $C_\mu$ (or $C_{gd}$) appears multiplied
      at the input: $C_{Miller} = C_\mu(1 + g_m R_L)$. This often dominates
      high-frequency response.
  virtual-short:
    name: Virtual short
    notes: |
      The "virtual short" is the most powerful concept for analyzing op-amp circuits.
      With negative feedback, the op-amp adjusts its output to keep both inputs
      at the same voltage.

      **The Two Golden Rules (Ideal Op-Amp with Negative Feedback):**

      1. **Virtual Short:** $V_+ = V_-$ (inputs at same potential)
      2. **No Input Current:** $I_+ = I_- = 0$ (infinite input impedance)

      These rules only apply with **negative feedback**. Open-loop or positive
      feedback circuits don't obey these rules.

      ![Non-inverting amplifier](https://upload.wikimedia.org/wikipedia/commons/4/44/Op-Amp_Non-Inverting_Amplifier.svg)

      **Non-Inverting Amplifier Analysis:**
      - Virtual short: $V_- = V_{in}$
      - No current into $V_-$: voltage divider gives $V_- = V_{out} \cdot \frac{R_1}{R_1 + R_f}$
      - Therefore: $V_{in} = V_{out} \cdot \frac{R_1}{R_1 + R_f}$

      $$A_v = \frac{V_{out}}{V_{in}} = 1 + \frac{R_f}{R_1}$$

      ![Inverting amplifier](https://upload.wikimedia.org/wikipedia/commons/4/41/Op-Amp_Inverting_Amplifier.svg)

      **Inverting Amplifier Analysis:**
      - Virtual short: $V_- = V_+ = 0$ (virtual ground)
      - Current through $R_{in}$: $I = \frac{V_{in}}{R_{in}}$
      - Same current through $R_f$ (no current into op-amp)
      - $V_{out} = -I \cdot R_f$

      $$A_v = -\frac{R_f}{R_{in}}$$

      ![Unity gain buffer](https://upload.wikimedia.org/wikipedia/commons/a/a8/Op-Amp_Unity-Gain_Buffer.svg)

      **The Buffer (Voltage Follower):**
      $A_v = 1$, but provides high input impedance and low output impedance.
      Essential for impedance matching between stages.
